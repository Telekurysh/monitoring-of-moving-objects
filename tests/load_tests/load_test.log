2025-05-30 00:08:51,916 - INFO - Начало нагрузочного тестирования...
2025-05-30 00:08:51,917 - INFO - Конфигурация: {'db_host': 'localhost', 'db_port': 5432, 'db_name': 'sensor_new', 'db_user': 'mihailmamaev', 'num_objects': 100, 'num_sensors_per_object': 2, 'num_concurrent_writers': 10, 'test_duration_seconds': 300, 'records_per_batch': 100, 'batch_interval_ms': 100, 'num_zones': 50, 'zone_radius_km': 5.0, 'center_lat': 60.1699, 'center_lon': 24.9384}
2025-05-30 00:08:51,917 - INFO - Начало нагрузочного тестирования
2025-05-30 00:08:51,985 - INFO - Пул соединений создан
2025-05-30 00:10:32,315 - INFO - Начало нагрузочного тестирования...
2025-05-30 00:10:32,315 - INFO - Конфигурация: {'db_host': 'localhost', 'db_port': 5432, 'db_name': 'sensor', 'db_user': 'postgres', 'db_password': 'password', 'num_objects': 100, 'num_sensors_per_object': 2, 'num_concurrent_writers': 10, 'test_duration_seconds': 300, 'records_per_batch': 100, 'batch_interval_ms': 100, 'num_zones': 50, 'zone_radius_km': 5.0, 'center_lat': 60.1699, 'center_lon': 24.9384}
2025-05-30 00:10:32,315 - INFO - Начало нагрузочного тестирования
2025-05-30 00:10:32,389 - INFO - Пул соединений создан
2025-05-30 00:10:32,471 - INFO - Создание 100 тестовых объектов...
2025-05-30 00:10:32,540 - INFO - Создание 50 тестовых зон...
2025-05-30 00:10:32,550 - INFO - Создано объектов: 100, датчиков: 200, зон: 50
2025-05-30 00:10:32,550 - INFO - Запуск воркера 0
2025-05-30 00:10:32,551 - INFO - Запуск воркера 1
2025-05-30 00:10:32,552 - INFO - Запуск воркера 2
2025-05-30 00:10:32,552 - INFO - Запуск воркера 3
2025-05-30 00:10:32,553 - INFO - Запуск воркера 4
2025-05-30 00:10:32,553 - INFO - Запуск воркера 5
2025-05-30 00:10:32,554 - INFO - Запуск воркера 6
2025-05-30 00:10:32,554 - INFO - Запуск воркера 7
2025-05-30 00:10:32,555 - INFO - Запуск воркера 8
2025-05-30 00:10:32,555 - INFO - Запуск воркера 9
2025-05-30 00:15:33,359 - INFO - Воркер 6 завершен. Всего записано: 23300 записей
2025-05-30 00:15:33,360 - INFO - Воркер 9 завершен. Всего записано: 23200 записей
2025-05-30 00:15:33,360 - INFO - Воркер 0 завершен. Всего записано: 23400 записей
2025-05-30 00:15:33,360 - INFO - Воркер 8 завершен. Всего записано: 23000 записей
2025-05-30 00:15:33,360 - INFO - Воркер 7 завершен. Всего записано: 22900 записей
2025-05-30 00:15:33,360 - INFO - Воркер 5 завершен. Всего записано: 23100 записей
2025-05-30 00:15:33,477 - INFO - Воркер 1 завершен. Всего записано: 23200 записей
2025-05-30 00:15:33,598 - INFO - Воркер 4 завершен. Всего записано: 23500 записей
2025-05-30 00:15:33,731 - INFO - Воркер 2 завершен. Всего записано: 23400 записей
2025-05-30 00:15:33,832 - INFO - Воркер 3 завершен. Всего записано: 23500 записей
2025-05-30 00:15:33,833 - INFO - Тест завершен за 301.28 секунд
2025-05-30 00:15:33,850 - INFO - Пул соединений закрыт
2025-05-30 00:15:33,851 - INFO - ============================================================
2025-05-30 00:15:33,851 - INFO - РЕЗУЛЬТАТЫ НАГРУЗОЧНОГО ТЕСТИРОВАНИЯ
2025-05-30 00:15:33,851 - INFO - ============================================================
2025-05-30 00:15:33,851 - INFO - total_records: 232500
2025-05-30 00:15:33,851 - INFO - total_errors: 0
2025-05-30 00:15:33,851 - INFO - test_duration_seconds: 301.01
2025-05-30 00:15:33,851 - INFO - throughput_records_per_second: 772.40
2025-05-30 00:15:33,851 - INFO - avg_write_time_ms: 806.57
2025-05-30 00:15:33,851 - INFO - max_write_time_ms: 2253.85
2025-05-30 00:15:33,851 - INFO - avg_cpu_usage_percent: 6.64
2025-05-30 00:15:33,851 - INFO - avg_memory_usage_mb: 12053.49
2025-05-30 00:15:33,851 - INFO - max_db_connections: 23
2025-05-30 00:15:33,851 - INFO - error_rate_percent: 0.00
2025-05-30 00:15:33,851 - INFO - ============================================================
2025-05-30 00:15:35,465 - INFO - График сохранен: load_test_results_20250530_001534.png
2025-05-30 00:16:56,908 - INFO - Гистограмма сохранена: write_time_distribution_20250530_001534.png
2025-05-30 00:17:21,196 - INFO - 
РЕКОМЕНДАЦИИ:
2025-05-30 18:50:44,419 - INFO - 
=== Тестирование с batch_size=10 ===
2025-05-30 18:50:44,419 - INFO - Начало нагрузочного тестирования
2025-05-30 18:50:44,504 - INFO - Пул соединений создан
2025-05-30 18:50:44,508 - INFO - Создание 100 тестовых объектов...
2025-05-30 18:50:44,604 - INFO - Создание 50 тестовых зон...
2025-05-30 18:50:44,615 - INFO - Создано объектов: 100, датчиков: 200, зон: 50
2025-05-30 18:50:44,616 - INFO - Запуск воркера 0
2025-05-30 18:50:44,616 - INFO - Запуск воркера 1
2025-05-30 18:50:44,616 - INFO - Запуск воркера 2
2025-05-30 18:50:44,616 - INFO - Запуск воркера 3
2025-05-30 18:50:44,616 - INFO - Запуск воркера 4
2025-05-30 18:50:44,616 - INFO - Запуск воркера 5
2025-05-30 18:50:44,617 - INFO - Запуск воркера 6
2025-05-30 18:50:44,618 - INFO - Запуск воркера 7
2025-05-30 18:50:44,618 - INFO - Запуск воркера 8
2025-05-30 18:50:44,618 - INFO - Запуск воркера 9
2025-05-30 18:55:45,432 - INFO - Воркер 5 завершен. Всего записано: 2370 записей
2025-05-30 18:55:45,432 - INFO - Воркер 7 завершен. Всего записано: 2330 записей
2025-05-30 18:55:45,432 - INFO - Воркер 2 завершен. Всего записано: 2370 записей
2025-05-30 18:55:45,432 - INFO - Воркер 9 завершен. Всего записано: 2400 записей
2025-05-30 18:55:45,432 - INFO - Воркер 3 завершен. Всего записано: 2380 записей
2025-05-30 18:55:45,432 - INFO - Воркер 8 завершен. Всего записано: 2320 записей
2025-05-30 18:55:45,433 - INFO - Воркер 4 завершен. Всего записано: 2380 записей
2025-05-30 18:55:45,555 - INFO - Воркер 6 завершен. Всего записано: 2360 записей
2025-05-30 18:55:45,676 - INFO - Воркер 1 завершен. Всего записано: 2370 записей
2025-05-30 18:55:45,777 - INFO - Воркер 0 завершен. Всего записано: 2370 записей
2025-05-30 18:55:45,778 - INFO - Тест завершен за 301.16 секунд
2025-05-30 18:55:45,805 - INFO - Пул соединений закрыт
2025-05-30 18:55:45,807 - INFO - 
=== Тестирование с batch_size=30 ===
2025-05-30 18:55:45,807 - INFO - Начало нагрузочного тестирования
2025-05-30 18:55:45,873 - INFO - Пул соединений создан
2025-05-30 18:55:45,994 - INFO - Создание 100 тестовых объектов...
2025-05-30 18:55:46,090 - INFO - Создание 50 тестовых зон...
2025-05-30 18:55:46,100 - INFO - Создано объектов: 100, датчиков: 200, зон: 50
2025-05-30 18:55:46,101 - INFO - Запуск воркера 0
2025-05-30 18:55:46,101 - INFO - Запуск воркера 1
2025-05-30 18:55:46,101 - INFO - Запуск воркера 2
2025-05-30 18:55:46,102 - INFO - Запуск воркера 3
2025-05-30 18:55:46,102 - INFO - Запуск воркера 4
2025-05-30 18:55:46,102 - INFO - Запуск воркера 5
2025-05-30 18:55:46,103 - INFO - Запуск воркера 6
2025-05-30 18:55:46,103 - INFO - Запуск воркера 7
2025-05-30 18:55:46,104 - INFO - Запуск воркера 8
2025-05-30 18:55:46,104 - INFO - Запуск воркера 9
2025-05-30 19:00:46,542 - INFO - Воркер 9 завершен. Всего записано: 7110 записей
2025-05-30 19:00:46,542 - INFO - Воркер 8 завершен. Всего записано: 7170 записей
2025-05-30 19:00:46,543 - INFO - Воркер 6 завершен. Всего записано: 6990 записей
2025-05-30 19:00:46,543 - INFO - Воркер 2 завершен. Всего записано: 7080 записей
2025-05-30 19:00:46,662 - INFO - Воркер 0 завершен. Всего записано: 6990 записей
2025-05-30 19:00:46,903 - INFO - Воркер 7 завершен. Всего записано: 7080 записей
2025-05-30 19:00:46,903 - INFO - Воркер 3 завершен. Всего записано: 7110 записей
2025-05-30 19:00:47,026 - INFO - Воркер 1 завершен. Всего записано: 7080 записей
2025-05-30 19:00:47,164 - INFO - Воркер 4 завершен. Всего записано: 7230 записей
2025-05-30 19:00:47,265 - INFO - Воркер 5 завершен. Всего записано: 6930 записей
2025-05-30 19:00:47,266 - INFO - Тест завершен за 301.16 секунд
2025-05-30 19:00:47,280 - INFO - Пул соединений закрыт
2025-05-30 19:00:47,282 - INFO - 
=== Тестирование с batch_size=50 ===
2025-05-30 19:00:47,282 - INFO - Начало нагрузочного тестирования
2025-05-30 19:00:47,327 - INFO - Пул соединений создан
2025-05-30 19:00:47,705 - INFO - Создание 100 тестовых объектов...
2025-05-30 19:00:47,769 - INFO - Создание 50 тестовых зон...
2025-05-30 19:00:47,778 - INFO - Создано объектов: 100, датчиков: 200, зон: 50
2025-05-30 19:00:47,779 - INFO - Запуск воркера 0
2025-05-30 19:00:47,779 - INFO - Запуск воркера 1
2025-05-30 19:00:47,780 - INFO - Запуск воркера 2
2025-05-30 19:00:47,780 - INFO - Запуск воркера 3
2025-05-30 19:00:47,780 - INFO - Запуск воркера 4
2025-05-30 19:00:47,780 - INFO - Запуск воркера 5
2025-05-30 19:00:47,781 - INFO - Запуск воркера 6
2025-05-30 19:00:47,781 - INFO - Запуск воркера 7
2025-05-30 19:00:47,782 - INFO - Запуск воркера 8
2025-05-30 19:00:47,782 - INFO - Запуск воркера 9
2025-05-30 19:05:47,824 - INFO - Воркер 1 завершен. Всего записано: 11100 записей
2025-05-30 19:05:48,068 - INFO - Воркер 4 завершен. Всего записано: 11250 записей
2025-05-30 19:05:48,068 - INFO - Воркер 6 завершен. Всего записано: 11200 записей
2025-05-30 19:05:48,461 - INFO - Воркер 8 завершен. Всего записано: 11050 записей
2025-05-30 19:05:48,461 - INFO - Воркер 2 завершен. Всего записано: 11300 записей
2025-05-30 19:05:48,461 - INFO - Воркер 0 завершен. Всего записано: 11300 записей
2025-05-30 19:05:48,586 - INFO - Воркер 3 завершен. Всего записано: 11200 записей
2025-05-30 19:05:48,716 - INFO - Воркер 9 завершен. Всего записано: 11250 записей
2025-05-30 19:05:48,845 - INFO - Воркер 5 завершен. Всего записано: 11300 записей
2025-05-30 19:05:48,947 - INFO - Воркер 7 завершен. Всего записано: 11100 записей
2025-05-30 19:05:48,947 - INFO - Тест завершен за 301.17 секунд
2025-05-30 19:05:48,960 - INFO - Пул соединений закрыт
2025-05-30 19:05:48,961 - INFO - 
=== Тестирование с batch_size=80 ===
2025-05-30 19:05:48,961 - INFO - Начало нагрузочного тестирования
2025-05-30 19:05:48,996 - INFO - Пул соединений создан
2025-05-30 19:05:49,668 - INFO - Создание 100 тестовых объектов...
2025-05-30 19:05:49,732 - INFO - Создание 50 тестовых зон...
2025-05-30 19:05:49,745 - INFO - Создано объектов: 100, датчиков: 200, зон: 50
2025-05-30 19:05:49,746 - INFO - Запуск воркера 0
2025-05-30 19:05:49,746 - INFO - Запуск воркера 1
2025-05-30 19:05:49,747 - INFO - Запуск воркера 2
2025-05-30 19:05:49,747 - INFO - Запуск воркера 3
2025-05-30 19:05:49,747 - INFO - Запуск воркера 4
2025-05-30 19:05:49,748 - INFO - Запуск воркера 5
2025-05-30 19:05:49,748 - INFO - Запуск воркера 6
2025-05-30 19:05:49,749 - INFO - Запуск воркера 7
2025-05-30 19:05:49,749 - INFO - Запуск воркера 8
2025-05-30 19:05:49,750 - INFO - Запуск воркера 9
2025-05-30 19:10:49,840 - INFO - Воркер 4 завершен. Всего записано: 17920 записей
2025-05-30 19:10:50,668 - INFO - Воркер 5 завершен. Всего записано: 17520 записей
2025-05-30 19:10:50,668 - INFO - Воркер 7 завершен. Всего записано: 18000 записей
2025-05-30 19:10:50,668 - INFO - Воркер 3 завершен. Всего записано: 17760 записей
2025-05-30 19:10:50,668 - INFO - Воркер 2 завершен. Всего записано: 17840 записей
2025-05-30 19:10:50,668 - INFO - Воркер 8 завершен. Всего записано: 17440 записей
2025-05-30 19:10:50,668 - INFO - Воркер 9 завершен. Всего записано: 18160 записей
2025-05-30 19:10:50,801 - INFO - Воркер 6 завершен. Всего записано: 17440 записей
2025-05-30 19:10:50,921 - INFO - Воркер 1 завершен. Всего записано: 18080 записей
2025-05-30 19:10:51,023 - INFO - Воркер 0 завершен. Всего записано: 17760 записей
2025-05-30 19:10:51,023 - INFO - Тест завершен за 301.28 секунд
2025-05-30 19:10:51,035 - INFO - Пул соединений закрыт
2025-05-30 19:10:51,036 - INFO - 
=== Тестирование с batch_size=100 ===
2025-05-30 19:10:51,036 - INFO - Начало нагрузочного тестирования
2025-05-30 19:10:51,083 - INFO - Пул соединений создан
2025-05-30 19:10:52,104 - INFO - Создание 100 тестовых объектов...
2025-05-30 19:10:52,164 - INFO - Создание 50 тестовых зон...
2025-05-30 19:10:52,174 - INFO - Создано объектов: 100, датчиков: 200, зон: 50
2025-05-30 19:10:52,174 - INFO - Запуск воркера 0
2025-05-30 19:10:52,175 - INFO - Запуск воркера 1
2025-05-30 19:10:52,176 - INFO - Запуск воркера 2
2025-05-30 19:10:52,176 - INFO - Запуск воркера 3
2025-05-30 19:10:52,177 - INFO - Запуск воркера 4
2025-05-30 19:10:52,178 - INFO - Запуск воркера 5
2025-05-30 19:10:52,178 - INFO - Запуск воркера 6
2025-05-30 19:10:52,179 - INFO - Запуск воркера 7
2025-05-30 19:10:52,179 - INFO - Запуск воркера 8
2025-05-30 19:10:52,180 - INFO - Запуск воркера 9
2025-05-30 19:15:52,611 - INFO - Воркер 0 завершен. Всего записано: 22900 записей
2025-05-30 19:15:52,611 - INFO - Воркер 1 завершен. Всего записано: 22700 записей
2025-05-30 19:15:52,612 - INFO - Воркер 8 завершен. Всего записано: 22700 записей
2025-05-30 19:15:52,735 - INFO - Воркер 4 завершен. Всего записано: 23000 записей
2025-05-30 19:15:52,999 - INFO - Воркер 2 завершен. Всего записано: 22800 записей
2025-05-30 19:15:53,000 - INFO - Воркер 5 завершен. Всего записано: 22400 записей
2025-05-30 19:15:53,400 - INFO - Воркер 9 завершен. Всего записано: 22700 записей
2025-05-30 19:15:53,400 - INFO - Воркер 6 завершен. Всего записано: 23000 записей
2025-05-30 19:15:53,400 - INFO - Воркер 3 завершен. Всего записано: 23000 записей
2025-05-30 19:15:53,501 - INFO - Воркер 7 завершен. Всего записано: 22900 записей
2025-05-30 19:15:53,501 - INFO - Тест завершен за 301.33 секунд
2025-05-30 19:15:53,519 - INFO - Пул соединений закрыт
2025-05-30 19:24:41,832 - INFO - 
=== Сравнительные результаты ===
2025-05-30 19:24:41,833 - INFO - 
Batch size: 10
2025-05-30 19:24:41,833 - INFO - total_records: 23650
2025-05-30 19:24:41,833 - INFO - total_errors: 0
2025-05-30 19:24:41,833 - INFO - test_duration_seconds: 300.93
2025-05-30 19:24:41,833 - INFO - throughput_records_per_second: 78.59
2025-05-30 19:24:41,833 - INFO - avg_write_time_ms: 788.04
2025-05-30 19:24:41,833 - INFO - max_write_time_ms: 1690.59
2025-05-30 19:24:41,833 - INFO - avg_cpu_usage_percent: 5.25
2025-05-30 19:24:41,833 - INFO - avg_memory_usage_mb: 11823.58
2025-05-30 19:24:41,833 - INFO - max_db_connections: 19
2025-05-30 19:24:41,833 - INFO - error_rate_percent: 0.00
2025-05-30 19:24:41,833 - INFO - 
Batch size: 30
2025-05-30 19:24:41,833 - INFO - total_records: 70770
2025-05-30 19:24:41,833 - INFO - total_errors: 0
2025-05-30 19:24:41,833 - INFO - test_duration_seconds: 300.93
2025-05-30 19:24:41,833 - INFO - throughput_records_per_second: 235.17
2025-05-30 19:24:41,833 - INFO - avg_write_time_ms: 793.86
2025-05-30 19:24:41,833 - INFO - max_write_time_ms: 1650.47
2025-05-30 19:24:41,833 - INFO - avg_cpu_usage_percent: 6.69
2025-05-30 19:24:41,833 - INFO - avg_memory_usage_mb: 11885.31
2025-05-30 19:24:41,833 - INFO - max_db_connections: 19
2025-05-30 19:24:41,833 - INFO - error_rate_percent: 0.00
2025-05-30 19:24:41,833 - INFO - 
Batch size: 50
2025-05-30 19:24:41,833 - INFO - total_records: 112050
2025-05-30 19:24:41,833 - INFO - total_errors: 0
2025-05-30 19:24:41,833 - INFO - test_duration_seconds: 300.93
2025-05-30 19:24:41,833 - INFO - throughput_records_per_second: 372.35
2025-05-30 19:24:41,833 - INFO - avg_write_time_ms: 923.14
2025-05-30 19:24:41,833 - INFO - max_write_time_ms: 4164.55
2025-05-30 19:24:41,833 - INFO - avg_cpu_usage_percent: 10.16
2025-05-30 19:24:41,833 - INFO - avg_memory_usage_mb: 12071.47
2025-05-30 19:24:41,833 - INFO - max_db_connections: 19
2025-05-30 19:24:41,833 - INFO - error_rate_percent: 0.00
2025-05-30 19:24:41,834 - INFO - 
Batch size: 80
2025-05-30 19:24:41,834 - INFO - total_records: 177920
2025-05-30 19:24:41,834 - INFO - total_errors: 0
2025-05-30 19:24:41,834 - INFO - test_duration_seconds: 301.04
2025-05-30 19:24:41,834 - INFO - throughput_records_per_second: 591.03
2025-05-30 19:24:41,834 - INFO - avg_write_time_ms: 843.11
2025-05-30 19:24:41,834 - INFO - max_write_time_ms: 2155.62
2025-05-30 19:24:41,834 - INFO - avg_cpu_usage_percent: 7.16
2025-05-30 19:24:41,834 - INFO - avg_memory_usage_mb: 12189.99
2025-05-30 19:24:41,834 - INFO - max_db_connections: 19
2025-05-30 19:24:41,834 - INFO - error_rate_percent: 0.00
2025-05-30 19:24:41,834 - INFO - 
Batch size: 100
2025-05-30 19:24:41,834 - INFO - total_records: 228100
2025-05-30 19:24:41,834 - INFO - total_errors: 0
2025-05-30 19:24:41,834 - INFO - test_duration_seconds: 301.08
2025-05-30 19:24:41,834 - INFO - throughput_records_per_second: 757.60
2025-05-30 19:24:41,834 - INFO - avg_write_time_ms: 821.68
2025-05-30 19:24:41,834 - INFO - max_write_time_ms: 1983.72
2025-05-30 19:24:41,834 - INFO - avg_cpu_usage_percent: 5.12
2025-05-30 19:24:41,834 - INFO - avg_memory_usage_mb: 12139.83
2025-05-30 19:24:41,834 - INFO - max_db_connections: 19
2025-05-30 19:24:41,834 - INFO - error_rate_percent: 0.00
